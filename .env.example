# =============================================================================
# CodeReview AI - Environment Variables
# =============================================================================
# Copy this file to .env and fill in the values
# NEVER commit .env to version control

# =============================================================================
# Database Configuration
# =============================================================================
POSTGRES_USER=codereview
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_DB=codereview

# =============================================================================
# Redis Configuration
# =============================================================================
REDIS_PASSWORD=your_redis_password_here

# =============================================================================
# Strapi Configuration
# =============================================================================
# Generate these with: openssl rand -base64 32
APP_KEYS=key1,key2,key3,key4
API_TOKEN_SALT=your_api_token_salt
ADMIN_JWT_SECRET=your_admin_jwt_secret
TRANSFER_TOKEN_SALT=your_transfer_token_salt
JWT_SECRET=your_jwt_secret

# Strapi API Token (for microservice communication)
STRAPI_API_TOKEN=your_strapi_api_token

# =============================================================================
# AI Provider API Keys
# =============================================================================
# At least one AI provider is required
OPENAI_API_KEY=sk-your-openai-api-key
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key
GOOGLE_AI_API_KEY=your-google-ai-api-key

# =============================================================================
# GitHub Integration
# =============================================================================
# Create a GitHub App at: https://github.com/settings/apps
GITHUB_APP_ID=your_github_app_id
GITHUB_APP_PRIVATE_KEY="-----BEGIN RSA PRIVATE KEY-----\nYour private key here\n-----END RSA PRIVATE KEY-----"
GITHUB_WEBHOOK_SECRET=your_github_webhook_secret
GITHUB_CLIENT_ID=your_github_oauth_client_id
GITHUB_CLIENT_SECRET=your_github_oauth_client_secret

# =============================================================================
# GitLab Integration
# =============================================================================
GITLAB_WEBHOOK_SECRET=your_gitlab_webhook_secret
GITLAB_APPLICATION_ID=your_gitlab_application_id
GITLAB_APPLICATION_SECRET=your_gitlab_application_secret

# =============================================================================
# Bitbucket Integration
# =============================================================================
BITBUCKET_WEBHOOK_SECRET=your_bitbucket_webhook_secret
BITBUCKET_CLIENT_ID=your_bitbucket_client_id
BITBUCKET_CLIENT_SECRET=your_bitbucket_client_secret

# =============================================================================
# Azure DevOps Integration
# =============================================================================
AZURE_DEVOPS_WEBHOOK_SECRET=your_azure_devops_webhook_secret
AZURE_DEVOPS_CLIENT_ID=your_azure_devops_client_id
AZURE_DEVOPS_CLIENT_SECRET=your_azure_devops_client_secret

# =============================================================================
# Public URLs (Production)
# =============================================================================
# Used by the client for browser requests
PUBLIC_STRAPI_URL=https://api.yourdomain.com
PUBLIC_MICROSERVICE_URL=https://engine.yourdomain.com
PUBLIC_CLIENT_URL=https://yourdomain.com

# =============================================================================
# Email Configuration (Optional)
# =============================================================================
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your_smtp_user
SMTP_PASSWORD=your_smtp_password
SMTP_FROM=noreply@yourdomain.com

# =============================================================================
# Encryption Keys
# =============================================================================
# Used for encrypting API keys stored in the database
# Generate with: openssl rand -base64 32
ENCRYPTION_KEY=your_32_byte_encryption_key_here

# =============================================================================
# Rate Limiting
# =============================================================================
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# Logging
# =============================================================================
LOG_LEVEL=info
LOG_FORMAT=json

# =============================================================================
# Feature Flags (Optional)
# =============================================================================
ENABLE_GITLAB_INTEGRATION=false
ENABLE_BITBUCKET_INTEGRATION=false
ENABLE_AZURE_DEVOPS_INTEGRATION=false

# =============================================================================
# Demo Mode (for portfolio/showcase)
# =============================================================================
# When enabled, bypasses auth and uses mock data
NEXT_PUBLIC_DEMO_MODE=false
